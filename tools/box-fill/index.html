<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Box Fill Calculator - NEC 314.16 | Sparky HQ</title>
    <meta name="description" content="Free box fill calculator for electricians. Calculate required box volume in cubic inches per NEC 314.16(B). Count by cables or conductors.">
    <link rel="icon" type="image/png" href="/assets/logo.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#1c1c1c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="canonical" href="https://sparky-hq.com/tools/box-fill/">
    <meta property="og:title" content="Box Fill Calculator - NEC 314.16 | Sparky HQ">
    <meta property="og:description" content="Free box fill calculator for electricians. Calculate required box volume in cubic inches per NEC 314.16(B). Count by cables or conductors.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sparky-hq.com/tools/box-fill/">
    <meta property="og:image" content="https://sparky-hq.com/assets/og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Box Fill Calculator - NEC 314.16 | Sparky HQ">
    <meta name="twitter:description" content="Free box fill calculator for electricians. Calculate required box volume in cubic inches per NEC 314.16(B). Count by cables or conductors.">
    <meta name="twitter:image" content="https://sparky-hq.com/assets/og-image.png">
    <link rel="stylesheet" href="/css/style.css?v=13">
    <script src="/js/validate.js" defer></script>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <a href="/" class="logo"><img src="/assets/logo.png" alt="Sparky HQ" height="50"></a>
            <nav>
                <a href="/tools/">Tools</a>
                <a href="/tables/">Tables</a>
                <a href="/about.html">About</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="calc-page">
            <div class="container">
                <h1>Box Fill Calculator <span class="nec-ref">NEC 314.16</span></h1>
                <p class="subtitle">Calculate required box volume per NEC 314.16(B) counting rules.</p>

                <div class="method-toggle">
                    <button class="active" onclick="switchMode('cable')">Count by Cables</button>
                    <button onclick="switchMode('conductor')">Count by Conductors</button>
                    <button onclick="switchMode('whatfits')">What Fits?</button>
                </div>

                <!-- CABLE MODE -->
                <div id="cableForm" class="calc-form">
                    <div class="info-box">
                        <strong>Cable mode:</strong> Enter cables entering the box (e.g., "two 14/2 NM-B"). Conductors are auto-counted — each cable's hot and neutral count as individual conductors. Equipment grounds are counted per 314.16(B)(5): 1&ndash;4 EGCs = 1 conductor volume; each EGC beyond 4 adds &frac14; conductor volume.
                    </div>

                    <h3 style="margin-bottom:12px;margin-top:16px;">Cables Entering Box</h3>
                    <div id="cableEntries">
                        <div class="wire-entry" style="grid-template-columns:1fr 80px 40px;">
                            <select class="cableType">
                                <option value="14/2">14/2 NM-B (2 conductors + ground)</option>
                                <option value="14/3">14/3 NM-B (3 conductors + ground)</option>
                                <option value="12/2" selected>12/2 NM-B (2 conductors + ground)</option>
                                <option value="12/3">12/3 NM-B (3 conductors + ground)</option>
                                <option value="10/2">10/2 NM-B (2 conductors + ground)</option>
                                <option value="10/3">10/3 NM-B (3 conductors + ground)</option>
                            </select>
                            <input type="number" class="cableCount" value="2" min="1" placeholder="Qty">
                            <button class="btn-remove" onclick="removeCableEntry(this)" title="Remove">&times;</button>
                        </div>
                    </div>
                    <button class="btn btn-sm btn-outline" onclick="addCableEntry()" style="margin-top:8px;margin-bottom:16px;">+ Add Cable Type</button>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="cableDevices">Device Yokes (switches/receptacles)</label>
                            <input type="number" id="cableDevices" value="1" min="0">
                        </div>
                        <div class="form-group">
                            <label for="cableClamps">Internal cable clamps?</label>
                            <select id="cableClamps">
                                <option value="0">No</option>
                                <option value="1" selected>Yes</option>
                            </select>
                        </div>
                    </div>

                    <div class="tip-box">
                        <strong>Pigtail reminder:</strong> Pigtails and jumpers that originate <em>and</em> terminate inside the box are NOT counted for box fill. Only conductors that enter through a cable or raceway count. This is the #1 box fill mistake.
                    </div>

                    <div class="apply-section">
                        <p class="apply-terms">By clicking Apply, you acknowledge that results are for reference only and must be verified by a qualified electrician against the current National Electrical Code and local amendments.</p>
                        <button class="btn" onclick="applyCable()">Apply</button>
                    </div>
                </div>

                <!-- CONDUCTOR MODE (original) -->
                <div id="conductorForm" class="calc-form" style="display:none;">
                    <h3 style="margin-bottom:16px;">Conductors <span class="nec-ref">314.16(B)(1)</span></h3>
                    <p style="font-size:0.85rem;color:#666;margin-bottom:12px;">Count each conductor that enters the box. Pigtails and jumpers that originate and terminate inside the box are not counted.</p>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="cond14">14 AWG conductors</label>
                            <input type="number" id="cond14" value="0" min="0">
                        </div>
                        <div class="form-group">
                            <label for="cond12">12 AWG conductors</label>
                            <input type="number" id="cond12" value="0" min="0">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="cond10">10 AWG conductors</label>
                            <input type="number" id="cond10" value="0" min="0">
                        </div>
                        <div class="form-group">
                            <label for="cond8">8 AWG conductors</label>
                            <input type="number" id="cond8" value="0" min="0">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="cond6">6 AWG conductors</label>
                            <input type="number" id="cond6" value="0" min="0">
                        </div>
                    </div>

                    <h3 style="margin-bottom:16px;margin-top:24px;">Devices <span class="nec-ref">314.16(B)(4)</span></h3>
                    <p style="font-size:0.85rem;color:#666;margin-bottom:12px;">Each device yoke counts as 2x the volume of the largest conductor connected to it.</p>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="devices">Number of device yokes</label>
                            <input type="number" id="devices" value="0" min="0">
                        </div>
                        <div class="form-group">
                            <label for="deviceSize">Largest conductor to device</label>
                            <select id="deviceSize">
                                <option value="14">14 AWG</option>
                                <option value="12" selected>12 AWG</option>
                                <option value="10">10 AWG</option>
                                <option value="8">8 AWG</option>
                                <option value="6">6 AWG</option>
                            </select>
                        </div>
                    </div>

                    <h3 style="margin-bottom:16px;margin-top:24px;">Clamps <span class="nec-ref">314.16(B)(2)</span></h3>
                    <p style="font-size:0.85rem;color:#666;margin-bottom:12px;">All internal clamps count as 1x the volume of the largest conductor in the box.</p>
                    <div class="form-group">
                        <label for="clamps">Internal cable clamps present?</label>
                        <select id="clamps">
                            <option value="0">No</option>
                            <option value="1">Yes</option>
                        </select>
                    </div>

                    <h3 style="margin-bottom:16px;margin-top:24px;">Equipment Grounding Conductors <span class="nec-ref">314.16(B)(5)</span></h3>
                    <p style="font-size:0.85rem;color:#666;margin-bottom:12px;">1&ndash;4 EGCs = 1 conductor volume (based on largest). Each EGC beyond 4 adds &frac14; conductor volume. Isolated ground counted separately.</p>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="egcSize">Largest EGC size</label>
                            <select id="egcSize">
                                <option value="14">14 AWG</option>
                                <option value="12" selected>12 AWG</option>
                                <option value="10">10 AWG</option>
                                <option value="8">8 AWG</option>
                                <option value="6">6 AWG</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="egcCount">Number of EGCs entering box</label>
                            <input type="number" id="egcCount" value="0" min="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="egcDevice">Additional EGC from device (isolated ground)?</label>
                        <select id="egcDevice">
                            <option value="0" selected>No</option>
                            <option value="1">Yes</option>
                        </select>
                    </div>

                    <div class="apply-section">
                        <p class="apply-terms">By clicking Apply, you acknowledge that results are for reference only and must be verified by a qualified electrician against the current National Electrical Code and local amendments.</p>
                        <button class="btn" onclick="applyConductor()">Apply</button>
                    </div>
                </div>

                <!-- WHAT FITS MODE -->
                <div id="whatfitsForm" class="calc-form" style="display:none;">
                    <div class="info-box">
                        <strong>Reverse lookup:</strong> Select a box and see the maximum number of conductors that fit per NEC 314.16(A).
                    </div>

                    <div class="form-group">
                        <label for="boxSelect">Select Box</label>
                        <select id="boxSelect">
                            <option value="10.5">3" x 2" x 2" Device Box (10.5 cu in)</option>
                            <option value="12.5">3" x 2" x 2-1/4" Device Box (12.5 cu in)</option>
                            <option value="14">3" x 2" x 2-1/2" Device Box (14 cu in)</option>
                            <option value="18d">3" x 2" x 2-3/4" Device Box (18 cu in)</option>
                            <option value="18s">4" Square x 1-1/4" Deep (18 cu in)</option>
                            <option value="21" selected>4" Square x 1-1/2" Deep (21 cu in)</option>
                            <option value="25">3" x 2" x 3-1/2" Device Box (25 cu in)</option>
                            <option value="29.5">4-11/16" Square x 1-1/2" Deep (29.5 cu in)</option>
                            <option value="30.3">4" Square x 2-1/8" Deep (30.3 cu in)</option>
                            <option value="42">4-11/16" Square x 2-1/8" Deep (42 cu in)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="fitWireSize">Conductor Size</label>
                        <select id="fitWireSize">
                            <option value="14" selected>14 AWG (2.00 cu in each)</option>
                            <option value="12">12 AWG (2.25 cu in each)</option>
                            <option value="10">10 AWG (2.50 cu in each)</option>
                            <option value="8">8 AWG (3.00 cu in each)</option>
                            <option value="6">6 AWG (5.00 cu in each)</option>
                        </select>
                    </div>

                    <div class="apply-section">
                        <p class="apply-terms">By clicking Apply, you acknowledge that results are for reference only and must be verified by a qualified electrician against the current National Electrical Code and local amendments.</p>
                        <button class="btn" onclick="applyWhatFits()">Apply</button>
                    </div>
                </div>

                <div id="validation-messages"></div>
                <div class="result" id="result">
                    <div class="result-section">
                        <div class="result-value" id="totalCI">--</div>
                        <div class="result-label" id="resultLabel">Minimum Box Volume Required</div>
                    </div>
                    <table class="breakdown-table" id="breakdownTable">
                        <thead>
                            <tr><th>Item</th><th>Count</th><th>Volume Each</th><th>Subtotal</th></tr>
                        </thead>
                        <tbody id="breakdownBody"></tbody>
                    </table>
                    <div class="result-section" style="margin-top:16px;">
                        <h3>Recommended Box</h3>
                        <p id="recBox" style="color:var(--text-light);font-size:0.9rem;">--</p>
                    </div>
                </div>
            </div>
        </section>
        <div class="disclaimer-box">
            <p>For reference only. Verify all results with the current NEC and local amendments. See <a href="/terms.html">Terms of Use</a>.</p>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2026 Sparky HQ.</p>
            <p>Tools are for reference only. Always verify with the current NEC and local amendments. <a href="/terms.html" style="color:#aaa;text-decoration:underline;">Terms of Use</a></p>
        </div>
    </footer>

    <script>
    // NEC Table 314.16(B) - Volume allowance per conductor (cubic inches)
    var volumePerConductor = {
        '14': 2.00, '12': 2.25, '10': 2.50, '8': 3.00, '6': 5.00
    };

    // Cable conductor counts (conductors excluding ground)
    var cableData = {
        '14/2': { size: '14', conductors: 2 },
        '14/3': { size: '14', conductors: 3 },
        '12/2': { size: '12', conductors: 2 },
        '12/3': { size: '12', conductors: 3 },
        '10/2': { size: '10', conductors: 2 },
        '10/3': { size: '10', conductors: 3 }
    };

    var standardBoxes = [
        { name: '3" x 2" x 2" Device Box (10.5 cu in)', volume: 10.5 },
        { name: '3" x 2" x 2-1/4" Device Box (12.5 cu in)', volume: 12.5 },
        { name: '3" x 2" x 2-1/2" Device Box (14 cu in)', volume: 14 },
        { name: '3" x 2" x 2-3/4" Device Box (18 cu in)', volume: 18 },
        { name: '4" Square x 1-1/4" Deep (18 cu in)', volume: 18 },
        { name: '4" Square x 1-1/2" Deep (21 cu in)', volume: 21 },
        { name: '3" x 2" x 3-1/2" Device Box (25 cu in)', volume: 25 },
        { name: '4-11/16" Square x 1-1/2" Deep (29.5 cu in)', volume: 29.5 },
        { name: '4" Square x 2-1/8" Deep (30.3 cu in)', volume: 30.3 },
        { name: '4-11/16" Square x 2-1/8" Deep (42 cu in)', volume: 42 },
    ];

    // ══════════════════════════════════════
    //  MODE MANAGEMENT
    // ══════════════════════════════════════

    function switchMode(mode) {
        var buttons = document.querySelectorAll('.method-toggle button');
        buttons.forEach(function(b) { b.classList.remove('active'); });

        document.getElementById('cableForm').style.display = 'none';
        document.getElementById('conductorForm').style.display = 'none';
        document.getElementById('whatfitsForm').style.display = 'none';
        document.getElementById('result').classList.remove('show');

        if (mode === 'cable') {
            buttons[0].classList.add('active');
            document.getElementById('cableForm').style.display = '';
        } else if (mode === 'conductor') {
            buttons[1].classList.add('active');
            document.getElementById('conductorForm').style.display = '';
        } else {
            buttons[2].classList.add('active');
            document.getElementById('whatfitsForm').style.display = '';
        }
    }

    // ══════════════════════════════════════
    //  CABLE MODE
    // ══════════════════════════════════════

    function addCableEntry() {
        var container = document.getElementById('cableEntries');
        var entry = container.querySelector('.wire-entry').cloneNode(true);
        entry.querySelector('.cableCount').value = 1;
        container.appendChild(entry);
    }

    function removeCableEntry(btn) {
        var container = document.getElementById('cableEntries');
        if (container.children.length > 1) {
            btn.closest('.wire-entry').remove();
        }
    }

    function applyCable() {
        var entries = document.querySelectorAll('#cableEntries .wire-entry');
        var totalCables = 0;
        var devices = parseInt(document.getElementById('cableDevices').value) || 0;

        entries.forEach(function(entry) {
            totalCables += parseInt(entry.querySelector('.cableCount').value) || 0;
        });

        var rules = [
            { rule: 'custom', test: totalCables === 0, msg: 'Enter at least one cable or conductor', level: 'error' },
            { rule: 'custom', test: totalCables > 10, msg: '10+ cables in one box is unusual', level: 'warning' },
            { rule: 'custom', test: devices > 6, msg: '6+ device yokes in one box is unusual', level: 'warning' }
        ];

        var result = SparkyValidate.check(rules);
        SparkyValidate.showMessages('validation-messages', result);
        if (!result.valid) return;

        SparkyValidate.logApply();
        calcCable();
    }

    function applyConductor() {
        var counts = {
            '14': parseInt(document.getElementById('cond14').value) || 0,
            '12': parseInt(document.getElementById('cond12').value) || 0,
            '10': parseInt(document.getElementById('cond10').value) || 0,
            '8':  parseInt(document.getElementById('cond8').value) || 0,
            '6':  parseInt(document.getElementById('cond6').value) || 0
        };
        var total = counts['14'] + counts['12'] + counts['10'] + counts['8'] + counts['6'];
        var devices = parseInt(document.getElementById('devices').value) || 0;

        var rules = [
            { rule: 'custom', test: total === 0, msg: 'Enter at least one conductor', level: 'error' },
            { rule: 'custom', test: devices > 6, msg: '6+ device yokes in one box is unusual', level: 'warning' }
        ];

        var result = SparkyValidate.check(rules);
        SparkyValidate.showMessages('validation-messages', result);
        if (!result.valid) return;

        SparkyValidate.logApply();
        calcConductor();
    }

    function applyWhatFits() {
        SparkyValidate.clearMessages('validation-messages');
        SparkyValidate.logApply();
        calcWhatFits();
    }

    function calcCable() {
        var entries = document.querySelectorAll('#cableEntries .wire-entry');
        var conductorCounts = { '14': 0, '12': 0, '10': 0, '8': 0, '6': 0 };
        var largestEGC = '14';
        var egcCount = 0;

        entries.forEach(function(entry) {
            var type = entry.querySelector('.cableType').value;
            var count = parseInt(entry.querySelector('.cableCount').value) || 0;
            var data = cableData[type];
            if (count > 0 && data) {
                conductorCounts[data.size] += data.conductors * count;
                egcCount += count; // each cable has 1 EGC
                if (volumePerConductor[data.size] > volumePerConductor[largestEGC]) {
                    largestEGC = data.size;
                }
            }
        });

        var devices = parseInt(document.getElementById('cableDevices').value) || 0;
        var hasClamps = parseInt(document.getElementById('cableClamps').value);

        // Find largest conductor in box
        var largestSize = '14';
        var allSizes = ['6','8','10','12','14'];
        for (var i = 0; i < allSizes.length; i++) {
            if (conductorCounts[allSizes[i]] > 0) { largestSize = allSizes[i]; break; }
        }

        doCalc(conductorCounts, devices, largestSize, hasClamps, largestSize, egcCount, 0);
    }

    // ══════════════════════════════════════
    //  CONDUCTOR MODE
    // ══════════════════════════════════════

    function calcConductor() {
        var counts = {
            '14': parseInt(document.getElementById('cond14').value) || 0,
            '12': parseInt(document.getElementById('cond12').value) || 0,
            '10': parseInt(document.getElementById('cond10').value) || 0,
            '8':  parseInt(document.getElementById('cond8').value) || 0,
            '6':  parseInt(document.getElementById('cond6').value) || 0
        };
        var devices = parseInt(document.getElementById('devices').value) || 0;
        var deviceSize = document.getElementById('deviceSize').value;
        var hasClamps = parseInt(document.getElementById('clamps').value);
        var egcSize = document.getElementById('egcSize').value;
        var egcCount = parseInt(document.getElementById('egcCount').value) || 0;
        var egcDevice = parseInt(document.getElementById('egcDevice').value);

        // Find largest conductor
        var largestSize = '14';
        var allSizes = ['6','8','10','12','14'];
        for (var i = 0; i < allSizes.length; i++) {
            if (counts[allSizes[i]] > 0) { largestSize = allSizes[i]; break; }
        }
        if (volumePerConductor[deviceSize] > volumePerConductor[largestSize]) largestSize = deviceSize;

        doCalc(counts, devices, deviceSize, hasClamps, egcSize, egcCount, egcDevice);
    }

    // ══════════════════════════════════════
    //  SHARED CALCULATION
    // ══════════════════════════════════════

    function doCalc(counts, devices, deviceSize, hasClamps, egcSize, egcCount, egcDevice) {
        var largestSize = '14';
        var allSizes = ['6','8','10','12','14'];
        for (var i = 0; i < allSizes.length; i++) {
            if (counts[allSizes[i]] > 0) { largestSize = allSizes[i]; break; }
        }
        if (devices > 0 && volumePerConductor[deviceSize] > volumePerConductor[largestSize]) largestSize = deviceSize;

        var totalVolume = 0;
        var breakdown = [];

        // Conductors
        for (var size in counts) {
            var count = counts[size];
            if (count > 0) {
                var vol = volumePerConductor[size];
                var sub = vol * count;
                totalVolume += sub;
                breakdown.push({ item: size + ' AWG conductors', count: count, each: vol, subtotal: sub });
            }
        }

        // Clamps
        if (hasClamps) {
            var vol = volumePerConductor[largestSize];
            totalVolume += vol;
            breakdown.push({ item: 'Internal clamps (1x ' + largestSize + ' AWG)', count: 1, each: vol, subtotal: vol });
        }

        // Devices
        if (devices > 0) {
            var vol = volumePerConductor[deviceSize];
            var sub = vol * 2 * devices;
            totalVolume += sub;
            breakdown.push({ item: 'Device yokes (2x ' + deviceSize + ' AWG each)', count: devices, each: vol * 2, subtotal: sub });
        }

        // EGC — NEC 314.16(B)(5): 1–4 EGCs = 1x volume; each beyond 4 = +0.25x volume
        if (egcCount > 0) {
            var vol = volumePerConductor[egcSize];
            var egcMultiplier = 1;
            if (egcCount > 4) {
                egcMultiplier = 1 + ((egcCount - 4) * 0.25);
            }
            var sub = vol * egcMultiplier;
            totalVolume += sub;
            if (egcCount <= 4) {
                breakdown.push({ item: 'Equipment grounds (' + egcCount + ' EGCs \u2264 4 = 1x ' + egcSize + ' AWG)', count: 1, each: vol, subtotal: sub });
            } else {
                breakdown.push({ item: 'Equipment grounds (' + egcCount + ' EGCs = 1 + ' + (egcCount - 4) + ' \u00D7 \u00BC = ' + egcMultiplier.toFixed(2) + 'x ' + egcSize + ' AWG)', count: egcMultiplier, each: vol, subtotal: sub });
            }
        }

        // Isolated EGC
        if (egcDevice) {
            var vol = volumePerConductor[egcSize];
            totalVolume += vol;
            breakdown.push({ item: 'Isolated ground (1x ' + egcSize + ' AWG)', count: 1, each: vol, subtotal: vol });
        }

        document.getElementById('resultLabel').textContent = 'Minimum Box Volume Required';
        document.getElementById('totalCI').textContent = totalVolume.toFixed(1) + ' cu in';

        var tbody = document.getElementById('breakdownBody');
        tbody.innerHTML = '';
        breakdown.forEach(function(row) {
            tbody.innerHTML += '<tr><td>' + row.item + '</td><td>' + row.count + '</td><td>' + row.each.toFixed(2) + '</td><td>' + row.subtotal.toFixed(2) + '</td></tr>';
        });
        tbody.innerHTML += '<tr><td><strong>Total Required</strong></td><td></td><td></td><td><strong>' + totalVolume.toFixed(2) + ' cu in</strong></td></tr>';

        var suitable = standardBoxes.filter(function(b) { return b.volume >= totalVolume; }).sort(function(a, b) { return a.volume - b.volume; });
        if (suitable.length > 0) {
            document.getElementById('recBox').textContent = suitable[0].name;
        } else {
            document.getElementById('recBox').textContent = 'Requires a box larger than standard sizes listed. Consider a 6" square or ganged boxes.';
        }

        document.getElementById('breakdownTable').style.display = '';
        document.getElementById('result').classList.add('show');
    }

    // ══════════════════════════════════════
    //  WHAT FITS MODE
    // ══════════════════════════════════════

    function calcWhatFits() {
        var boxVal = document.getElementById('boxSelect').value;
        // Handle duplicate 18 cu in entries
        var boxVolume = parseFloat(boxVal.replace('d','').replace('s',''));
        var wireSize = document.getElementById('fitWireSize').value;
        var volEach = volumePerConductor[wireSize];

        // Max conductors = floor(box volume / volume per conductor)
        // But must reserve space for 1x clamp + 1x EGC + 2x per device
        var maxRaw = Math.floor(boxVolume / volEach);

        // Practical max: subtract 1 for clamps, 1 for EGC, show both
        var reserveClampEGC = 2; // 1 clamp + 1 EGC
        var maxWithReserve = Math.max(0, maxRaw - reserveClampEGC);

        document.getElementById('resultLabel').textContent = 'Maximum Conductors';
        document.getElementById('totalCI').textContent = maxRaw + ' conductors (' + wireSize + ' AWG)';

        var tbody = document.getElementById('breakdownBody');
        tbody.innerHTML = '';
        tbody.innerHTML += '<tr><td>Box volume</td><td></td><td></td><td>' + boxVolume.toFixed(1) + ' cu in</td></tr>';
        tbody.innerHTML += '<tr><td>' + wireSize + ' AWG volume allowance</td><td></td><td></td><td>' + volEach.toFixed(2) + ' cu in each</td></tr>';
        tbody.innerHTML += '<tr><td>Maximum conductors (raw)</td><td></td><td></td><td>' + maxRaw + '</td></tr>';
        tbody.innerHTML += '<tr><td>After reserving clamp + EGC fill</td><td></td><td></td><td><strong>' + maxWithReserve + ' conductors</strong></td></tr>';
        tbody.innerHTML += '<tr><td>With 1 device (subtract 2 more)</td><td></td><td></td><td>' + Math.max(0, maxWithReserve - 2) + ' conductors</td></tr>';

        document.getElementById('recBox').textContent = 'Selected: ' + boxVolume.toFixed(1) + ' cu in box holds up to ' + maxWithReserve + ' x ' + wireSize + ' AWG conductors (after clamp + EGC).';

        document.getElementById('breakdownTable').style.display = '';
        document.getElementById('result').classList.add('show');
    }
    </script>
    <script src="/js/app.js" defer></script>
</body>
</html>
