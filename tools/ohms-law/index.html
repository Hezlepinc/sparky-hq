<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ohm's Law Calculator - Free V/I/R/P | Sparky HQ</title>
    <meta name="description" content="Free Ohm's Law calculator for electricians. Enter any two values — voltage, current, resistance, or power — and get the rest instantly.">
    <link rel="icon" type="image/png" href="/assets/logo.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#1c1c1c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="canonical" href="https://sparky-hq.com/tools/ohms-law/">
    <meta property="og:title" content="Ohm's Law Calculator - Free V/I/R/P | Sparky HQ">
    <meta property="og:description" content="Free Ohm's Law calculator for electricians. Enter any two values — voltage, current, resistance, or power — and get the rest instantly.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sparky-hq.com/tools/ohms-law/">
    <meta property="og:image" content="https://sparky-hq.com/assets/og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Ohm's Law Calculator - Free V/I/R/P | Sparky HQ">
    <meta name="twitter:description" content="Free Ohm's Law calculator for electricians. Enter any two values — voltage, current, resistance, or power — and get the rest instantly.">
    <meta name="twitter:image" content="https://sparky-hq.com/assets/og-image.png">
    <link rel="stylesheet" href="/css/style.css?v=13">
    <script src="/js/validate.js" defer></script>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <a href="/" class="logo"><img src="/assets/logo.png" alt="Sparky HQ" height="50"></a>
            <nav>
                <a href="/tools/">Tools</a>
                <a href="/tables/">Tables</a>
                <a href="/about.html">About</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="calc-page">
            <div class="container">
                <h1>Ohm's Law Calculator <span class="nec-ref">V &bull; I &bull; R &bull; P</span></h1>
                <p class="subtitle">Enter any two known values. Leave the other two blank and hit Apply.</p>

                <div class="calc-form">
                    <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));gap:24px;align-items:start;">
                        <div>
                            <div class="form-group" id="grp-voltage">
                                <label for="voltage">Voltage (V)</label>
                                <input type="number" id="voltage" placeholder="Volts" min="0" step="any" oninput="lockFields()">
                            </div>
                            <div class="form-group" id="grp-current">
                                <label for="current">Current (A)</label>
                                <input type="number" id="current" placeholder="Amps" min="0" step="any" oninput="lockFields()">
                            </div>
                            <div class="form-group" id="grp-resistance">
                                <label for="resistance">Resistance (&Omega;)</label>
                                <input type="number" id="resistance" placeholder="Ohms" min="0" step="any" oninput="lockFields()">
                            </div>
                            <div class="form-group" id="grp-power">
                                <label for="power">Power (W)</label>
                                <input type="number" id="power" placeholder="Watts" min="0" step="any" oninput="lockFields()">
                            </div>
                        </div>
                        <div style="display:flex;align-items:center;justify-content:center;padding:8px 0;">
                            <svg id="ohm-wheel" viewBox="0 0 340 340" style="width:100%;max-width:380px;display:block;" aria-label="Ohm's Law formula wheel"></svg>
                        </div>
                    </div>
                    <div class="apply-section">
                        <p class="apply-terms">By clicking Apply, you acknowledge that results are for reference only and must be verified by a qualified electrician.</p>
                        <div style="display:flex;gap:10px;flex-wrap:wrap;">
                            <button class="btn" onclick="applyCalc()">Apply</button>
                            <button class="btn btn-outline" onclick="clearAll()">Clear</button>
                        </div>
                    </div>
                </div>

                <div id="validation-messages"></div>
                <div class="result" id="result"></div>

                <div class="tip-box" style="margin-top:24px;">
                    <strong>How to use</strong><br>
                    Enter any two known values and leave the others blank. The wheel shows all 12 formulas &mdash; the calculator picks the right one automatically.
                </div>
            </div>
        </section>
        <div class="disclaimer-box">
            <p>For reference only. Verify all results with the current NEC and local amendments. See <a href="/terms.html">Terms of Use</a>.</p>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2026 Sparky HQ.</p>
            <p>Tools are for reference only. Always verify with the current NEC and local amendments. <a href="/terms.html" style="color:#aaa;text-decoration:underline;">Terms of Use</a></p>
        </div>
    </footer>

    <script>
    // ══════════════════════════════════════
    //  OHM'S LAW CALCULATOR
    // ══════════════════════════════════════

    var fields = ['voltage','current','resistance','power'];

    function lockFields() {
        var filled = [];
        for (var i = 0; i < fields.length; i++) {
            if (document.getElementById(fields[i]).value.trim() !== '') filled.push(fields[i]);
        }
        for (var i = 0; i < fields.length; i++) {
            var id = fields[i];
            var input = document.getElementById(id);
            var group = document.getElementById('grp-' + id);
            if (filled.length >= 2 && filled.indexOf(id) === -1) {
                input.disabled = true;
                group.style.opacity = '0.4';
            } else {
                input.disabled = false;
                group.style.opacity = '';
            }
        }

        // Live-highlight the wheel as soon as 2 fields are filled
        if (filled.length === 2) {
            highlightWheel(filled.slice().sort().join('+'));
        } else {
            resetWheel();
        }
    }

    function getInputs() {
        var fields = ['voltage','current','resistance','power'];
        var vals = {};
        var filled = [];
        for (var i = 0; i < fields.length; i++) {
            var raw = document.getElementById(fields[i]).value.trim();
            if (raw !== '') {
                vals[fields[i]] = parseFloat(raw);
                filled.push(fields[i]);
            } else {
                vals[fields[i]] = null;
            }
        }
        return { vals: vals, filled: filled };
    }

    function fmt(n) {
        if (n === 0) return '0';
        if (Math.abs(n) >= 1000) return n.toLocaleString(undefined, { maximumFractionDigits: 2 });
        if (Math.abs(n) >= 1) return n.toFixed(3).replace(/\.?0+$/, '');
        if (Math.abs(n) >= 0.001) return n.toFixed(6).replace(/\.?0+$/, '');
        return n.toExponential(3);
    }

    function clearAll() {
        for (var i = 0; i < fields.length; i++) {
            var input = document.getElementById(fields[i]);
            input.value = '';
            input.disabled = false;
            document.getElementById('grp-' + fields[i]).style.opacity = '';
        }
        SparkyValidate.clearMessages('validation-messages');
        var resultEl = document.getElementById('result');
        resultEl.classList.remove('show');
        resultEl.innerHTML = '';
        resetWheel();
    }

    function applyCalc() {
        var inp = getInputs();
        var filled = inp.filled;
        var vals = inp.vals;

        // Validation: exactly 2 filled, both > 0
        var rules = [];
        if (filled.length < 2) {
            rules.push({ rule: 'custom', test: true, level: 'error', msg: 'Enter exactly 2 values. You entered ' + filled.length + '.' });
        } else if (filled.length > 2) {
            rules.push({ rule: 'custom', test: true, level: 'error', msg: 'Enter exactly 2 values. You entered ' + filled.length + ' \u2014 clear the extras.' });
        }

        for (var i = 0; i < filled.length; i++) {
            var v = vals[filled[i]];
            if (isNaN(v) || v <= 0) {
                var labels = { voltage: 'Voltage', current: 'Current', resistance: 'Resistance', power: 'Power' };
                rules.push({ rule: 'custom', test: true, level: 'error', msg: labels[filled[i]] + ' must be greater than 0' });
            }
        }

        var result = SparkyValidate.check(rules);
        SparkyValidate.showMessages('validation-messages', result);
        if (!result.valid) return;

        SparkyValidate.logApply();
        calculate(vals, filled);
    }

    function calculate(vals, filled) {
        var V = vals.voltage;
        var I = vals.current;
        var R = vals.resistance;
        var P = vals.power;

        var known = filled.sort().join('+');
        var formulasUsed = [];

        // Solve for the two unknowns
        switch (known) {
            case 'current+voltage': // V and I known
                R = V / I;
                P = V * I;
                formulasUsed = ['R = V \u00F7 I = ' + fmt(V) + ' \u00F7 ' + fmt(I) + ' = ' + fmt(R) + ' \u03A9',
                                'P = V \u00D7 I = ' + fmt(V) + ' \u00D7 ' + fmt(I) + ' = ' + fmt(P) + ' W'];
                break;
            case 'resistance+voltage': // V and R known
                I = V / R;
                P = (V * V) / R;
                formulasUsed = ['I = V \u00F7 R = ' + fmt(V) + ' \u00F7 ' + fmt(R) + ' = ' + fmt(I) + ' A',
                                'P = V\u00B2 \u00F7 R = ' + fmt(V) + '\u00B2 \u00F7 ' + fmt(R) + ' = ' + fmt(P) + ' W'];
                break;
            case 'power+voltage': // V and P known
                I = P / V;
                R = (V * V) / P;
                formulasUsed = ['I = P \u00F7 V = ' + fmt(P) + ' \u00F7 ' + fmt(V) + ' = ' + fmt(I) + ' A',
                                'R = V\u00B2 \u00F7 P = ' + fmt(V) + '\u00B2 \u00F7 ' + fmt(P) + ' = ' + fmt(R) + ' \u03A9'];
                break;
            case 'current+resistance': // I and R known
                V = I * R;
                P = I * I * R;
                formulasUsed = ['V = I \u00D7 R = ' + fmt(I) + ' \u00D7 ' + fmt(R) + ' = ' + fmt(V) + ' V',
                                'P = I\u00B2 \u00D7 R = ' + fmt(I) + '\u00B2 \u00D7 ' + fmt(R) + ' = ' + fmt(P) + ' W'];
                break;
            case 'current+power': // I and P known
                V = P / I;
                R = P / (I * I);
                formulasUsed = ['V = P \u00F7 I = ' + fmt(P) + ' \u00F7 ' + fmt(I) + ' = ' + fmt(V) + ' V',
                                'R = P \u00F7 I\u00B2 = ' + fmt(P) + ' \u00F7 ' + fmt(I) + '\u00B2 = ' + fmt(R) + ' \u03A9'];
                break;
            case 'power+resistance': // R and P known
                V = Math.sqrt(P * R);
                I = Math.sqrt(P / R);
                formulasUsed = ['V = \u221A(P \u00D7 R) = \u221A(' + fmt(P) + ' \u00D7 ' + fmt(R) + ') = ' + fmt(V) + ' V',
                                'I = \u221A(P \u00F7 R) = \u221A(' + fmt(P) + ' \u00F7 ' + fmt(R) + ') = ' + fmt(I) + ' A'];
                break;
        }

        // Build results
        var html = '';
        html += '<div style="font-weight:700;font-size:1.1rem;margin-bottom:14px;padding:10px 16px;background:#f5f0e6;border-left:4px solid var(--accent);border-radius:0 6px 6px 0;color:var(--text);">Response</div>';

        html += '<table class="breakdown-table">';
        html += '<tr' + (filled.indexOf('voltage') === -1 ? ' style="font-weight:700;"' : '') + '><td>Voltage (V)</td><td>' + fmt(V) + ' V' + (filled.indexOf('voltage') === -1 ? ' \u2190 calculated' : '') + '</td></tr>';
        html += '<tr' + (filled.indexOf('current') === -1 ? ' style="font-weight:700;"' : '') + '><td>Current (I)</td><td>' + fmt(I) + ' A' + (filled.indexOf('current') === -1 ? ' \u2190 calculated' : '') + '</td></tr>';
        html += '<tr' + (filled.indexOf('resistance') === -1 ? ' style="font-weight:700;"' : '') + '><td>Resistance (R)</td><td>' + fmt(R) + ' \u03A9' + (filled.indexOf('resistance') === -1 ? ' \u2190 calculated' : '') + '</td></tr>';
        html += '<tr' + (filled.indexOf('power') === -1 ? ' style="font-weight:700;"' : '') + '><td>Power (P)</td><td>' + fmt(P) + ' W' + (filled.indexOf('power') === -1 ? ' \u2190 calculated' : '') + '</td></tr>';
        html += '</table>';

        // Show Your Work
        html += '<div style="margin-top:20px;padding-top:16px;border-top:1px solid var(--border);">';
        html += '<details style="cursor:pointer;">';
        html += '<summary style="font-weight:700;font-size:0.92rem;color:var(--accent);padding:10px 16px;user-select:none;background:var(--gray);border-left:4px solid var(--accent);border-radius:0 6px 6px 0;">Show Your Work</summary>';
        html += '<div style="margin-top:12px;">';
        for (var i = 0; i < formulasUsed.length; i++) {
            html += '<div style="background:var(--gray);border-radius:6px;padding:12px 16px;margin-bottom:8px;font-family:\'Courier New\',monospace;font-size:0.92rem;">' + formulasUsed[i] + '</div>';
        }
        html += '</div></details></div>';

        var resultEl = document.getElementById('result');
        resultEl.innerHTML = html;
        resultEl.classList.add('show');

        // Highlight the exact formula segments used on the wheel
        highlightWheel(known);
    }

    // ══════════════════════════════════════
    //  12-SEGMENT OHM'S LAW WHEEL
    // ══════════════════════════════════════

    var WH = { cx:170, cy:170, iR:46, oR:128, cR:22, vR:36, lR:146 };

    // Quadrants: V top-left, I top-right, R bottom-right, P bottom-left
    var QUADS = [
        { v:'V', lbl:'VOLTS', col:'#b8860b', bg:'#fef7ea', hi:'#f5d67a',
          f:['I\u00d7R','P\u00f7I','\u221a(P\u00d7R)'], a:-180, rot:-45 },
        { v:'I', lbl:'AMPS', col:'#2a7ab5', bg:'#eef6ff', hi:'#8ec4f0',
          f:['V\u00f7R','P\u00f7V','\u221a(P\u00f7R)'], a:-90, rot:45 },
        { v:'R', lbl:'OHMS', col:'#2e8b57', bg:'#f0faf0', hi:'#8ed4a8',
          f:['V\u00f7I','V\u00b2\u00f7P','P\u00f7I\u00b2'], a:0, rot:-45 },
        { v:'P', lbl:'WATTS', col:'#c0542e', bg:'#fff4f0', hi:'#f0a888',
          f:['V\u00d7I','I\u00b2\u00d7R','V\u00b2\u00f7R'], a:90, rot:45 }
    ];

    // Map known-pair → which 2 of the 12 segments to highlight
    var SEG_MAP = {
        'current+voltage':    [{q:2,s:0},{q:3,s:0}],
        'resistance+voltage': [{q:1,s:0},{q:3,s:2}],
        'power+voltage':      [{q:1,s:1},{q:2,s:1}],
        'current+resistance': [{q:0,s:0},{q:3,s:1}],
        'current+power':      [{q:0,s:1},{q:2,s:2}],
        'power+resistance':   [{q:0,s:2},{q:1,s:2}]
    };

    function _svg(tag, a) {
        var el = document.createElementNS('http://www.w3.org/2000/svg', tag);
        for (var k in a) el.setAttribute(k, a[k]);
        return el;
    }

    function _arc(a1, a2) {
        var R=Math.PI/180, c=WH.cx, d=WH.cy, ir=WH.iR, or_=WH.oR;
        return 'M'+(c+ir*Math.cos(a1*R)).toFixed(1)+','+(d+ir*Math.sin(a1*R)).toFixed(1)+
               'L'+(c+or_*Math.cos(a1*R)).toFixed(1)+','+(d+or_*Math.sin(a1*R)).toFixed(1)+
               'A'+or_+','+or_+' 0 0,1 '+(c+or_*Math.cos(a2*R)).toFixed(1)+','+(d+or_*Math.sin(a2*R)).toFixed(1)+
               'L'+(c+ir*Math.cos(a2*R)).toFixed(1)+','+(d+ir*Math.sin(a2*R)).toFixed(1)+
               'A'+ir+','+ir+' 0 0,0 '+(c+ir*Math.cos(a1*R)).toFixed(1)+','+(d+ir*Math.sin(a1*R)).toFixed(1)+'Z';
    }

    function buildWheel() {
        var svg = document.getElementById('ohm-wheel');
        if (!svg) return;
        var DEG = Math.PI/180, midR = (WH.iR+WH.oR)/2;

        QUADS.forEach(function(q, qi) {
            for (var si = 0; si < 3; si++) {
                var a1 = q.a + si*30, a2 = a1 + 30;
                var p = _svg('path', {
                    d:_arc(a1,a2), fill:q.bg,
                    stroke:'#e2e0dc', 'stroke-width':'1', id:'seg-'+qi+'-'+si
                });
                p.style.transition = 'fill 0.3s ease';
                svg.appendChild(p);

                var ma = (a1+a2)/2*DEG;
                var tx = WH.cx + midR*Math.cos(ma), ty = WH.cy + midR*Math.sin(ma);
                var txt = _svg('text', {
                    x:tx.toFixed(1), y:ty.toFixed(1),
                    'text-anchor':'middle', 'dominant-baseline':'central',
                    fill: si===0 ? '#2c2c2c' : '#5a5a5a',
                    'font-size': si===0 ? '11' : '9.5',
                    'font-weight': si===0 ? '700' : '400',
                    'font-family':'-apple-system,sans-serif'
                });
                txt.textContent = q.f[si];
                svg.appendChild(txt);
            }

            // V/I/R/P label inside inner ring
            var ca = (q.a+45)*DEG;
            var vx = WH.cx+WH.vR*Math.cos(ca), vy = WH.cy+WH.vR*Math.sin(ca);
            var vt = _svg('text', {
                x:vx.toFixed(1), y:vy.toFixed(1),
                'text-anchor':'middle', 'dominant-baseline':'central',
                fill:q.col, 'font-size':'18', 'font-weight':'800',
                'font-family':'-apple-system,sans-serif',
                transform:'rotate('+q.rot+','+vx.toFixed(1)+','+vy.toFixed(1)+')'
            });
            vt.textContent = q.v;
            svg.appendChild(vt);

            // Quadrant title outside circle, same rotation
            var lx = WH.cx+WH.lR*Math.cos(ca), ly = WH.cy+WH.lR*Math.sin(ca);
            var lt = _svg('text', {
                x:lx.toFixed(1), y:ly.toFixed(1),
                'text-anchor':'middle', 'dominant-baseline':'central',
                fill:q.col, 'font-size':'10', 'font-weight':'700',
                'letter-spacing':'1', 'font-family':'-apple-system,sans-serif',
                transform:'rotate('+q.rot+','+lx.toFixed(1)+','+ly.toFixed(1)+')'
            });
            lt.textContent = q.lbl;
            svg.appendChild(lt);
        });

        // Quadrant divider lines (thicker, on top)
        svg.appendChild(_svg('line', {
            x1:WH.cx, y1:WH.cy-WH.oR, x2:WH.cx, y2:WH.cy+WH.oR,
            stroke:'#d0cec9', 'stroke-width':'2'
        }));
        svg.appendChild(_svg('line', {
            x1:WH.cx-WH.oR, y1:WH.cy, x2:WH.cx+WH.oR, y2:WH.cy,
            stroke:'#d0cec9', 'stroke-width':'2'
        }));

        // Center gold circle
        svg.appendChild(_svg('circle', { cx:WH.cx, cy:WH.cy, r:WH.cR, fill:'#D4910D' }));
        var c1 = _svg('text', {
            x:WH.cx, y:WH.cy-5, 'text-anchor':'middle',
            fill:'#fff', 'font-size':'8.5', 'font-weight':'700',
            'font-family':'-apple-system,sans-serif', 'letter-spacing':'0.5'
        });
        c1.textContent = "OHM'S";
        svg.appendChild(c1);
        var c2 = _svg('text', {
            x:WH.cx, y:WH.cy+7, 'text-anchor':'middle',
            fill:'#fff', 'font-size':'8.5', 'font-weight':'700',
            'font-family':'-apple-system,sans-serif', 'letter-spacing':'0.5'
        });
        c2.textContent = 'LAW';
        svg.appendChild(c2);
    }

    function highlightWheel(known) {
        QUADS.forEach(function(q, qi) {
            for (var si = 0; si < 3; si++) {
                var el = document.getElementById('seg-'+qi+'-'+si);
                if (el) el.setAttribute('fill', q.bg);
            }
        });
        var segs = SEG_MAP[known];
        if (!segs) return;
        segs.forEach(function(s) {
            var el = document.getElementById('seg-'+s.q+'-'+s.s);
            if (el) el.setAttribute('fill', QUADS[s.q].hi);
        });
    }

    function resetWheel() {
        QUADS.forEach(function(q, qi) {
            for (var si = 0; si < 3; si++) {
                var el = document.getElementById('seg-'+qi+'-'+si);
                if (el) el.setAttribute('fill', q.bg);
            }
        });
    }

    buildWheel();
    </script>
    <script src="/js/app.js" defer></script>
</body>
</html>
